<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vintage Invitation</title>
<style>
/* ---------- BODY ---------- */
body {
  margin: 0;
  font-family: "Segoe UI", Arial, Helvetica, sans-serif;
  background: #1a1a1a;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  overflow: hidden;
  perspective: 1200px; /* Needed for 3D flap */
}

/* ---------- PAGES ---------- */
.page {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 1s ease;
}
.page.active {
  opacity: 1;
  pointer-events: all;
  z-index: 2;
}

/* ---------- ENVELOPE STACK ---------- */
#envelope-wrapper {
  position: relative;
  width: 320px;
  height: 200px;
}

/* Envelope stack for vintage effect */
.envelope-stack {
  position: absolute;
  width: 300px;
  height: 180px;
  border-radius: 12px;
  background: #9b3b2b;
  border: 2px solid #6e1f14;
  box-shadow: 0 12px 25px rgba(0,0,0,0.4);
  top: 0;
  left: 0;
  transform: translateY(var(--y, 0px)) scale(var(--s,1));
  transition: transform 0.4s ease;
}

/* Main envelope */
#envelope {
  position: relative;
  width: 300px;
  height: 180px;
  background: #a03d2f;
  border: 2px solid #6e1f14;
  border-radius: 12px;
  cursor: pointer;
  box-shadow: 0 15px 35px rgba(0,0,0,0.6);
  overflow: hidden;
  transform-style: preserve-3d;
  z-index: 5;
}
#envelope:hover { transform: scale(1.05); }

/* Flap */
#flap {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 50%;
  background: #a03d2f;
  clip-path: polygon(0 0, 100% 0, 50% 100%);
  transform-origin: top center;
  transition: transform 1s ease;
  box-shadow: inset 0 8px 15px rgba(0,0,0,0.3);
  z-index: 3;
  transform: rotateX(0deg);
}

/* Flap shadow */
#flap-shadow {
  position: absolute;
  top: 50%;
  left: 0;
  width: 100%;
  height: 50%;
  background: rgba(0,0,0,0.2);
  opacity: 0;
  transition: opacity 0.5s ease;
  pointer-events: none;
  z-index: 2;
}

/* Stamp */
.stamp {
  position: absolute;
  top: 12%;
  right: 8%;
  width: 14%;
  height: 28%;
  border-radius: 50%;
  border: 2px dashed #fff;
  background: #fff2;
  box-shadow: 0 2px 5px rgba(0,0,0,0.3);
  z-index: 4;
}

/* Envelope text */
#envelope h1 {
  position: relative;
  color: #fff;
  font-size: 1.3rem;
  text-align: center;
  pointer-events: none;
  z-index: 4;
  margin-top: 60px;
}

/* ---------- CARD ---------- */
.card {
  background: #fff8f0;
  color: #4b1e0b;
  border-radius: 15px;
  width: 80vw;
  max-width: 400px;
  padding: 30px;
  text-align: center;
  box-shadow: 0 20px 50px rgba(0,0,0,0.5);
  transform: translateY(50px);
  opacity: 0;
  transition: transform 0.8s ease, opacity 0.8s ease;
}
.card.show {
  transform: translateY(0);
  opacity: 1;
}

h1 { font-size: 1.7rem; margin-bottom: 15px; }
p { font-size: 1rem; line-height: 1.6; margin-bottom: 15px; }
.btn {
  padding: 10px 25px;
  border-radius: 25px;
  border: none;
  font-size: 1rem;
  background: #a03d2f;
  color: #fff;
  cursor: pointer;
  margin-top: 15px;
  transition: transform 0.2s ease;
}
.btn:hover { transform: scale(1.05); }
#noBtn { margin-left: 10px; }

@media(max-width: 500px){
  #envelope h1 { font-size: 1.2rem; }
  .btn { font-size: 0.9rem; padding: 8px 20px; }
}
</style>
</head>
<body>

<!-- PAGE 1: ENVELOPE -->
<section class="page active" id="page1">
  <div id="envelope-wrapper">
    <!-- Stacked envelopes for vintage effect -->
    <div class="envelope-stack" style="--y:8px; --s:0.96;"></div>
    <div class="envelope-stack" style="--y:16px; --s:0.92;"></div>
    <div class="envelope-stack" style="--y:24px; --s:0.88;"></div>

    <!-- Main interactive envelope -->
    <div id="envelope" onclick="openCard()">
      <div id="flap"></div>
      <div id="flap-shadow"></div>
      <div class="stamp"></div>
      <h1>ğŸ’Œ Click to Open ğŸ’Œ</h1>
    </div>
  </div>
</section>

<!-- PAGE 2: CARD -->
<section class="page" id="page2">
  <div class="card" id="card1">
    <h1>Hi Love ğŸ˜˜</h1>
    <p>May I take you out on a date? ğŸŒ¸ Iâ€™ve been wanting to share this moment with you, and I hope this will be the start of us choosing each other ğŸ’–</p>
    <button class="btn" onclick="sayYes()">Yes ğŸ’•</button>
    <button class="btn" id="noBtn">No ğŸ˜…</button>
  </div>
</section>

<!-- PAGE 3: CELEBRATION -->
<section class="page" id="page3">
  <div class="card">
    <h1>YAAAY ğŸ‰</h1>
    <p>Thank you for letting me take you out ğŸ¥° I canâ€™t wait to spend this time together â¤ï¸</p>
    <button class="btn" onclick="nextPage(4)">Next â¡ï¸</button>
  </div>
</section>

<!-- PAGE 4: DETAILS -->
<section class="page" id="page4">
  <div class="card">
    <h1>The Details ğŸ“…</h1>
    <p><strong>Dress code:</strong> White top & blue pants/skirt ğŸ‘—ğŸ‘”</p>
    <p><strong>Time:</strong> 4:00 PM â°</p>
    <p><strong>Place:</strong> Roof Manila ğŸŒ†</p>
    <button class="btn" onclick="nextPage(5)">Next â¡ï¸</button>
  </div>
</section>

<!-- PAGE 5: FINAL MESSAGE -->
<section class="page" id="page5">
  <div class="card">
    <h1>Canâ€™t Wait â¤ï¸</h1>
    <p>Iâ€™m excited to see you and spend time together ğŸ’•</p>
    <p>01.11.2026 ğŸ“…</p>
  </div>
</section>

<!-- BACKGROUND MUSIC -->
<audio id="bgm" loop>
  <source src="wishlist-instrumental.mp3" type="audio/mpeg">
</audio>

<script>
const music = document.getElementById('bgm');
const flap = document.getElementById('flap');
const flapShadow = document.getElementById('flap-shadow');

// PAGE TRANSITIONS
function nextPage(num){
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  const next = document.getElementById('page'+num);
  next.classList.add('active');
  const card = next.querySelector('.card');
  if(card) setTimeout(()=>card.classList.add('show'), 150);
}

// FADE IN MUSIC
function fadeInMusic(audio, targetVolume=0.5, duration=2000){
  audio.volume = 0;
  audio.play();
  const steps = 50;
  let step = targetVolume / steps;
  let interval = duration / steps;
  let i = 0;
  const fade = setInterval(()=>{
    if(i<steps){
      audio.volume = Math.min(audio.volume + step, targetVolume);
      i++;
    } else clearInterval(fade);
  }, interval);
}

// OPEN ENVELOPE WITH 3D FLAP
function openCard(){
  flapShadow.style.opacity = 1;
  flap.style.transform = "rotateX(-180deg)"; // flap folds back
  fadeInMusic(music,0.5,2000);
  setTimeout(()=>nextPage(2), 900);
}

// NO BUTTON ESCAPE
const noBtn = document.getElementById('noBtn');
noBtn.addEventListener('mouseenter',()=>{
  const card = noBtn.parentElement;
  const maxX = card.offsetWidth - noBtn.offsetWidth - 10;
  const maxY = card.offsetHeight - noBtn.offsetHeight - 10;
  const randomX = Math.random() * maxX;
  const randomY = Math.random() * maxY;
  noBtn.style.position='absolute';
  noBtn.style.left=randomX+'px';
  noBtn.style.top=randomY+'px';
});

// SAY YES
function sayYes(){ nextPage(3); }
</script>
</body>
</html>